Object.defineProperty(exports,"__esModule",{value:true});exports.getMonthDays=getMonthDays;exports.areEqual=areEqual;var _date=require("../utils/date");var _validations=require("../utils/validations");var MONDAY_FIRST=[6,0,1,2,3,4,5];function dayShouldBeActive(date,startDate,endDate,firstDayOfMonth,lastDayOfMonth){if(date>lastDayOfMonth){return endDate>lastDayOfMonth&&startDate<=lastDayOfMonth;}return startDate<firstDayOfMonth&&endDate>=firstDayOfMonth;}function getMonthDays(month,year,firstDayMonday,disableRange,disabledDays,disableOffsetDays,startDate,endDate,minDate,maxDate){if(minDate instanceof Date)minDate.setHours(0,0,0,0);if(maxDate instanceof Date)maxDate.setHours(0,0,0,0);if(startDate instanceof Date)startDate.setHours(0,0,0,0);if(endDate instanceof Date)endDate.setHours(0,0,0,0);var firstMonthDay=new Date(year,month,1);var lastMonthDay=new Date(year,month+1,0);var daysToAdd=(0,_date.getNumberOfDaysInMonth)(month,year);var days=[];var startWeekOffset=firstDayMonday?MONDAY_FIRST[firstMonthDay.getDay()]:firstMonthDay.getDay();var daysToCompleteRows=(startWeekOffset+daysToAdd)%7;var lastRowNextMonthDays=daysToCompleteRows?7-daysToCompleteRows:0;for(var i=-startWeekOffset;i<daysToAdd+lastRowNextMonthDays;i++){var date=(0,_date.addDays)(firstMonthDay,i);var day=date.getDate();var _month=date.getMonth();var fullDay=day<10?"0".concat(day):day.toString();var fullMonth=_month<10?"0".concat(_month+1):(_month+1).toString();var id="".concat(date.getFullYear(),"-").concat(fullMonth,"-").concat(fullDay);var isOnSelectableRange=!minDate&&!maxDate;isOnSelectableRange=(!minDate||minDate&&date>=minDate)&&(!maxDate||maxDate&&date<=maxDate);var isOutOfRange=!!(minDate&&date<minDate||maxDate&&date>maxDate);var isMonthDate=i>=0&&i<daysToAdd;var isStartDate=false;var isEndDate=false;var isActive=false;if(endDate&&startDate&&!disableRange){isStartDate=isMonthDate&&(0,_validations.sameDate)(date,startDate);isEndDate=isMonthDate&&(0,_validations.sameDate)(date,endDate);if(!isMonthDate){isActive=dayShouldBeActive(date,startDate,endDate,firstMonthDay,lastMonthDay);}else{isActive=date>=startDate&&date<=endDate;}}else if(isMonthDate&&startDate&&(0,_validations.sameDate)(date,startDate)){isStartDate=true;isEndDate=true;isActive=true;}var today=new Date();var isToday=day===today.getDate()&&_month===today.getMonth()&&year===today.getFullYear();days.push({id:"".concat(_month,"-").concat(id),date:date,isToday:isToday,isMonthDate:isMonthDate,isActive:isActive,isStartDate:isStartDate,isEndDate:isEndDate,isOutOfRange:isOutOfRange,isVisible:isOnSelectableRange&&isMonthDate&&!disabledDays["".concat(year,"-").concat(fullMonth,"-").concat(day)],isHidden:disableOffsetDays&&!isMonthDate});}return days;}function areEqual(prevProps,nextProps){return prevProps.month===nextProps.month&&prevProps.year===nextProps.year&&prevProps.locale===nextProps.locale&&Array.isArray(prevProps.dayNames)===Array.isArray(nextProps.dayNames)&&prevProps.showWeekdays===nextProps.showWeekdays&&prevProps.disableRange===nextProps.disableRange&&prevProps.disableOffsetDays===nextProps.disableOffsetDays&&prevProps.firstDayMonday===nextProps.firstDayMonday&&!(0,_validations.changedDate)(prevProps.startDate,nextProps.startDate)&&!(0,_validations.changedDate)(prevProps.endDate,nextProps.endDate)&&!(0,_validations.changedDate)(prevProps.minDate,nextProps.minDate)&&!(0,_validations.changedDate)(prevProps.maxDate,nextProps.maxDate);}
//# sourceMappingURL=utils.js.map